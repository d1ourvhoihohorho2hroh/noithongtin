<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ray Bradbury</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f4f4;
}
h2 {
  text-align: center;
}
#timer {
  text-align: center;
  font-size: 20px;
  color: red;
  margin-bottom: 10px;
}
.container {
  display: flex;
  justify-content: space-around;
  max-width: 800px;
  margin: auto;
}
#left, #right {
  width: 45%;
}
.item {
  padding: 10px;
  margin: 8px 0;
  background: white;
  border: 1px solid #ccc;
  border-radius: 6px;
  cursor: pointer;
}
.item.selected {
  border: 2px solid blue;
}
.item.correct {
  background: #c8f7c5;
}
.item.wrong {
  background: #f7c5c5;
}
</style>
</head>

<body>

<h2>Ná»I THÃ”NG TIN â€“ RAY BRADBURY</h2>
<div id="timer">â±ï¸ Thá»i gian: 30s</div>

<div class="container">
  <div id="left">
    <div class="item" data-key="1">TÃªn tÃ¡c giáº£</div>
    <div class="item" data-key="2">QuÃª quÃ¡n</div>
    <div class="item" data-key="3">TÃ¡c pháº©m tiÃªu biá»ƒu</div>
    <div class="item" data-key="4">Thá»ƒ loáº¡i</div>
    <div class="item" data-key="5">NÄƒm sinh â€“ máº¥t</div>
  </div>

  <div id="right">
    <div class="item" data-key="3">BiÃªn niÃªn sá»­ Sao Hoáº£, 451 Ä‘á»™ F,..</div>
    <div class="item" data-key="1">Ray Bradbury</div>
    <div class="item" data-key="5">1920 â€“ 2012</div>
    <div class="item" data-key="4">Khoa há»c viá»…n tÆ°á»Ÿng, pháº£n Ä‘á»‹a Ä‘Ã ng, kinh dá»‹,..</div>
    <div class="item" data-key="2">Waukegan, Illinois, Má»¹</div>
  </div>
</div>

<script>
/* ===== BIáº¾N ===== */
let timeLeft = 30;
let gameOver = false;
let selected = null;
let correctCount = 0;

const totalPairs = document.querySelectorAll('#left .item').length;
const timerEl = document.getElementById("timer");

/* ===== SOUND ===== */
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
function playSound(type) {
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.connect(gain);
  gain.connect(audioCtx.destination);

  osc.frequency.value = type === "correct" ? 800 : 200;
  gain.gain.value = 0.15;

  osc.start();
  osc.stop(audioCtx.currentTime + 0.2);
}

/* ===== COUNTDOWN ===== */
const timer = setInterval(() => {
  if (timeLeft <= 0) {
    endGame("â›” Háº¿t giá»!");
    return;
  }
  timeLeft--;
  timerEl.textContent = "â±ï¸ Thá»i gian: " + timeLeft + "s";
}, 1000);

/* ===== CLICK ===== */
document.querySelectorAll('.item').forEach(item => {
  item.onclick = () => {
    if (gameOver || item.classList.contains('correct')) return;

    if (!selected) {
      selected = item;
      item.classList.add('selected');
    } else {
      if (selected.dataset.key === item.dataset.key) {
        selected.classList.add('correct');
        item.classList.add('correct');
        playSound("correct");
        correctCount++;

        if (correctCount === totalPairs) {
          endGame("ğŸ‰ HoÃ n thÃ nh!");
        }
      } else {
        selected.classList.add('wrong');
        item.classList.add('wrong');
        playSound("wrong");

        setTimeout(() => {
          selected.classList.remove('wrong');
          item.classList.remove('wrong');
        }, 600);
      }

      selected.classList.remove('selected');
      selected = null;
    }
  };
});

/* ===== HIá»†N ÄÃP ÃN ===== */
function showAllAnswers() {
  document.querySelectorAll('#left .item').forEach(left => {
    const key = left.dataset.key;
    const right = document.querySelector('#right .item[data-key="' + key + '"]');
    left.classList.add('correct');
    right.classList.add('correct');
  });
}

/* ===== Káº¾T THÃšC ===== */
function endGame(text) {
  if (gameOver) return;
  gameOver = true;
  clearInterval(timer);
  timerEl.textContent = text;
  showAllAnswers();
}
</script>

</body>
</html>
